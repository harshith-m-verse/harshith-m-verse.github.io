{"version":3,"file":"commoncomponents-filter.998ebccf.bundle.js","mappings":"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","sources":["webpack://1at06cs097/./commonComponents/Filter.js"],"sourcesContent":["import React from 'react';\nimport { LHS,RHS,  LI, FullWidthBtn} from './general/style/common';\nimport { MenuBtn, FilterCard, NonSliderItem, BottomTray, ViewBtn, FilterHeader} from './general/style/style';\n\nimport {imagePath} from '../DhProperties';\nimport { toJS } from 'mobx';\n\n// Basic Grid componet \nclass Filter extends React.Component {\n\n  constructor(props) {\n    super(props);\n    let viewingmorestate = [];\n    let tmpviewmorerequired = [];\n    let tmpcarditemstatus = [];\n    let tmpcarditemcommittedstatus = [];\n    //Initially all viewmore are false\n    for(let i=0; i<this.props.filtercards.length; i++) {\n      viewingmorestate[i] = false;\n      if(this.props.filtercards[i].items.length <= this.props.filtercards[i].defaultViewLimit) {\n        tmpviewmorerequired[i] = false;\n      }\n      else {\n        tmpviewmorerequired[i] = true;\n      }\n\n      tmpcarditemstatus[i] = [];\n      tmpcarditemcommittedstatus[i] = [];\n      for(let j=0; j < this.props.filtercards[i].items.length; j++) {\n        tmpcarditemstatus[i][j] = {name:this.props.filtercards[i].items[j].name, active:this.props.filtercards[i].items[j].active,id:this.props.filtercards[i].items[j].id};\n        tmpcarditemcommittedstatus[i][j] = {name:this.props.filtercards[i].items[j].name, active:this.props.filtercards[i].items[j].active,id:this.props.filtercards[i].items[j].id};\n      }\n    }\n    let tempState = {\n      carditemstatus : tmpcarditemstatus,\n    }\n    for(let i=0; i<this.props.filtercards.length; i++) {\n      this.handleHiddenSelectedItemCase(tempState,i);\n    }\n    this.state = {\n      collapsed : true, //By default Filter is Collapsed.\n      viewingmore : viewingmorestate,\n      viewmorerequired : tmpviewmorerequired,\n      carditemstatus : tempState.carditemstatus,\n      carditemcommittedstatus : tmpcarditemcommittedstatus,\n    };\n  }\n\n  componentDidMount() {\n    this.handleEmitSelect(this.state);\n  }\n\n  handleViewMoreClick(e) {\n    e.preventDefault();\n\n    let tempState = {...this.state};\n\n    if(!tempState.viewingmore[e.currentTarget.dataset.index]) {\n        //Now going to viewingmmore\n        tempState.viewingmore[e.currentTarget.dataset.index] = true;\n    }\n    else {\n      //Now going to viewing  less \n      let index = e.currentTarget.dataset.index;\n      tempState.viewingmore[index] = false;\n\n      //If selected item is going to be hidden due to viewless, then we need to swap it with first item.\n\n      this.handleHiddenSelectedItemCase(tempState,index);\n    }\n\n    this.setState(tempState);\n  }\n\n  handleHiddenSelectedItemCase(state, index) {\n\n    //If selected item is going to be hidden due to viewless, then we need to swap it with first item.\n    let selectedItemIndex =0;\n    for(let j=0; j < state.carditemstatus[index].length; j++) {\n      if(state.carditemstatus[index][j].active) {\n        selectedItemIndex = j;\n        break;\n      }\n    }\n\n    if(selectedItemIndex >= this.props.filtercards[index].defaultViewLimit) {\n      let tmpSelectedItem = state.carditemstatus[index][selectedItemIndex].name;\n      let tmpSelectedId = state.carditemstatus[index][selectedItemIndex].id;\n\n      state.carditemstatus[index][selectedItemIndex].name = state.carditemstatus[index][0].name;\n      state.carditemstatus[index][selectedItemIndex].id = state.carditemstatus[index][0].id;\n      state.carditemstatus[index][selectedItemIndex].active = false;\n      \n      state.carditemstatus[index][0].name = tmpSelectedItem;\n      state.carditemstatus[index][0].id = tmpSelectedId;\n      state.carditemstatus[index][0].active = true;\n    }\n\n  }\n\n  handleItemClick(e,key,val) {\n    e.preventDefault();\n    let tempState = {...this.state};\n\n    const currStatus = (tempState.carditemstatus[e.currentTarget.dataset.cardindex] && tempState.carditemstatus[e.currentTarget.dataset.cardindex][e.currentTarget.dataset.index])? tempState.carditemstatus[e.currentTarget.dataset.cardindex][e.currentTarget.dataset.index].active:null;\n    \n    tempState.carditemstatus[e.currentTarget.dataset.cardindex].forEach((element) => {\n      element.active = false;\n    });\n\n    tempState.carditemstatus[e.currentTarget.dataset.cardindex][e.currentTarget.dataset.index].active = !currStatus;\n\n    this.setState(tempState);\n  }\n\n  handleFilterClick(e) {\n    e.preventDefault();\n\n    let tempState = {...this.state};\n    let tmpExpand;\n\n    if(tempState.collapsed) {\n      tempState.collapsed = false;\n      tmpExpand = true;\n    } else {\n      tempState.collapsed = true;\n      tmpExpand = false;\n      //Now we are collaping, then discard any temporary selections that may have been done.\n      //i.e. Committed State takes over.\n      this.handleOverrideState(tempState.carditemstatus, tempState.carditemcommittedstatus);\n    }\n\n    this.setState(tempState);\n\n    this.props.emitExpand(tmpExpand);\n  }\n\n  handleOverrideState(toState, fromState) {\n    for(let i=0; i<this.props.filtercards.length; i++) {\n      for(let j=0; j < this.props.filtercards[i].items.length; j++) {\n        toState[i][j] = {name:fromState[i][j].name, active:fromState[i][j].active, id:fromState[i][j].id};\n      }\n    }\n  }\n\n  handleApplyClick(e) {\n    e.preventDefault();\n\n    let tempState = {...this.state};\n\n    tempState.collapsed = true;\n    \n    this.handleOverrideState(tempState.carditemcommittedstatus, tempState.carditemstatus);\n\n    //Get ids of all active filter cards.\n    \n    this.setState(tempState) \n    this.props.emitExpand(false);\n    this.handleEmitSelect(tempState);\n    \n  }\n\n  handleEmitSelect(tempState) {\n\n     //Get ids of all active filter cards.\n     let queryObj = {}\n     for(let i=0; this.props.filtercards && i<this.props.filtercards.length; i++) {\n       const key = this.props.filtercards[i].key;\n       for(let j=0; tempState.carditemcommittedstatus && j<tempState.carditemcommittedstatus[i].length; j++) {\n         if(tempState.carditemcommittedstatus[i][j].active) {\n           const val = tempState.carditemcommittedstatus[i][j].id;\n           queryObj[key] = val;\n           break;\n         }\n       }\n     }\n    //  console.log(\"QueryObj b4 Api Call: \",queryObj);\n     this.props.emitSelect(this.props.otherDefaultSelected, queryObj);\n  }\n\n\n  handleClearAllClick(e) {\n    e.preventDefault();\n\n    let tempState = {...this.state};\n\n    for(let i=0; i<this.props.filtercards.length; i++) {\n      tempState.carditemstatus[i].forEach((element) => {\n        element.active = false;\n      });\n    }\n    this.setState(tempState);\n  }\n\n  hanndleCancel(e){\n    e.preventDefault();\n \n  let tempState = {...this.state};\n\n    this.handleOverrideState(tempState.carditemstatus, tempState.carditemcommittedstatus);\n\n    tempState.collapsed = true;\n\n    this.setState(tempState);\n        \n    this.props.emitExpand(false);\n  }\n\n  isAnyCardSelected(){\n    for(let i=0; this.props.filtercards && i<this.props.filtercards.length; i++) {\n      for(let j=0; this.state.carditemstatus && j<this.state.carditemstatus[i].length; j++) {\n        if(this.state.carditemstatus[i][j].active) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n    render() {\n      const isAnyFilterApplied = this.isAnyCardSelected();\n      // console.log(\"Filter Props: \",toJS(this.props.filtercards));\n      return (\n        <> \n        {this.state.collapsed && <FilterHeader className =\"FilterHeader\" background={imagePath('filter_list_black.svg')} onClick={(e)=>this.handleFilterClick(e)}>\n          <span href=\"javascript:void(0)\">Filters</span>\n        </FilterHeader>}\n\n        {!this.state.collapsed && this.props.filtercards &&  this.props.filtercards.map((el,cardindex)=>{\n        \n          return(\n          <FilterCard className='FilterCard'>\n            <h4>{el.title}</h4>\n\n            <NonSliderItem className='NoSlider'>\n            {el.items &&  el.items.map((item,index)=>{\n              return(\n                (this.state.viewingmore[cardindex] || index < this.props.filtercards[cardindex].defaultViewLimit) &&\n                <LI padding=\"0px !important\" className='menu' data-cardindex={cardindex} data-index={index} onClick={(e)=>this.handleItemClick(e,this.props.filtercards[cardindex].key, item.id)}>\n                <MenuBtn className={this.state.carditemstatus[cardindex][index].active? \"active\":\"\"}>{this.state.carditemstatus[cardindex][index].name}</MenuBtn>\n              </LI>\n              );\n            })}\n            </NonSliderItem>\n\n\n            {this.state.viewmorerequired[cardindex] &&\n            <ViewBtn data-index={cardindex} onClick={(e)=>this.handleViewMoreClick(e)}>\n              <a href='javascript:void(0)'>{this.state.viewingmore[cardindex]?\"View Less\":\"View More\"}</a>\n            </ViewBtn>\n            }\n            </FilterCard>\n            );}\n          \n          )}\n          \n          {!this.state.collapsed && \n          <>\n          <br></br>\n          <br></br>\n          <br></br>\n          <br></br>\n\n          <BottomTray className='BottomTray'>\n            <LHS>\n              { isAnyFilterApplied && <FullWidthBtn onClick={(e)=>this.handleClearAllClick(e)}>Clear All</FullWidthBtn> }\n              { !isAnyFilterApplied && <FullWidthBtn className=\"active FullWidthBtn\" onClick={(e)=>this.hanndleCancel(e)}> Cancel</FullWidthBtn> }\n            </LHS>\n            <RHS>\n              <FullWidthBtn className={isAnyFilterApplied?'active FullWidthBtn':'FullWidthBtn'} onClick={(e)=>this.handleApplyClick(e)}>Apply</FullWidthBtn>\n            </RHS>\n          </BottomTray>\n          </>\n          }\n        </>\n      )\n    }\n}\n\nexport default Filter;\n\n\n\n"],"names":["Filter","props","viewingmorestate","tmpviewmorerequired","tmpcarditemstatus","tmpcarditemcommittedstatus","i","filtercards","length","items","defaultViewLimit","j","name","active","id","tempState","carditemstatus","handleHiddenSelectedItemCase","state","collapsed","viewingmore","viewmorerequired","carditemcommittedstatus","this","handleEmitSelect","e","preventDefault","currentTarget","dataset","index","setState","selectedItemIndex","tmpSelectedItem","tmpSelectedId","key","val","currStatus","cardindex","forEach","element","tmpExpand","handleOverrideState","emitExpand","toState","fromState","queryObj","emitSelect","otherDefaultSelected","isAnyFilterApplied","isAnyCardSelected","FilterHeader","className","background","imagePath","onClick","handleFilterClick","href","map","el","FilterCard","title","NonSliderItem","item","LI","padding","handleItemClick","MenuBtn","ViewBtn","handleViewMoreClick","BottomTray","LHS","FullWidthBtn","handleClearAllClick","hanndleCancel","RHS","handleApplyClick","React","Component"],"sourceRoot":""}